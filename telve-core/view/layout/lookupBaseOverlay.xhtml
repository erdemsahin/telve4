<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:c="http://java.sun.com/jsp/jstl/core">

    <div class="row">
        <h:panelGroup layout="block" styleClass="large-12 small-12 medium-12 columns">
            <ui:fragment rendered="#{not hideStandartFilter}">
                <p:fragment>
                    <p:outputLabel for="search2" value="#{messages['general.label.SearchKey']}" />
                    <h:panelGroup styleClass="ui-input-group" layout="block" >
                        <p:inputText value="#{bean.searchText}" />
                        <p:commandButton id="search2" icon="ui-icon-search" action="#{bean.search()}" update="resultLists" styleClass="ui-icon-only" />
                    </h:panelGroup>
                </p:fragment>
            </ui:fragment>
        </h:panelGroup>


        <p:fragment>
            <h:panelGroup id="resultLists" layout="block" styleClass="large-12 small-12 medium-12 columns">

                <ui:fragment rendered="#{bean.isMultiSelect()}" >
                    <p:dataTable id="multiSelectDialog" var="item" value="#{bean.getModel()}" 
                                 selection="#{bean.selectedDatas}" rows="5"  paginator="true"
                                 paginatorPosition="bottom" 
                                 paginatorAlwaysVisible="false">

                        <p:column selectionMode="multiple" style="width:36px;" />  

                        <c:forEach items="#{bean.model.columns.entrySet()}" var="col" varStatus="loop">
                            <p:column headerText="#{messages[col.value]}">
                                #{item[col.key]}
                            </p:column>
                        </c:forEach>
                    </p:dataTable>
                </ui:fragment>

                <ui:fragment rendered="#{not bean.isMultiSelect()}" >

                    <p:dataTable id="singleSelectDialog" var="item" value="#{bean.getModel()}" 
                                 selection="#{bean.selectedData}" rows="5"  paginator="true"
                                 paginatorPosition="bottom" 
                                 paginatorAlwaysVisible="false">

                        <p:column selectionMode="single" style="width:36px;" />  

                        <c:forEach items="#{bean.model.columns.entrySet()}" var="col" varStatus="loop">
                            <p:column headerText="#{messages[col.value]}">
                                #{item[col.key]}
                            </p:column>
                        </c:forEach>
                    </p:dataTable>
                </ui:fragment>
            </h:panelGroup>
            <h:panelGroup layout="block" styleClass="large-12 small-12 medium-12 columns">
            <div class="actionButtons">
                    <p:commandButton value="#{messages['general.button.Ok']}"  
                                 action="#{demoParamLookup.closeOverlay()}" ajax="true" 
                                     onsuccess="PF('#{widgetVar}').hide();" update="#{update}"
                                     icon="ui-icon-check"/>
                    <p:commandButton value="#{messages['general.button.Cancel']}" type="button" onclick="PF('#{widgetVar}').hide();" 
                                     icon="ui-icon-close"/>
            </div>
            </h:panelGroup>
        </p:fragment>
    </div>
</ui:composition>
