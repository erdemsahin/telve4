<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:t="http://java.sun.com/jsf/composite/telveComponents"
                template="/layout/dashletBase.xhtml">

    <ui:param name="name" value="taskDashlet" />
    <ui:param name="bean" value="#{taskDashlet}" />

    <ui:define name="extraButtons">
    </ui:define>

    <ui:define name="edit">
    </ui:define>

    <ui:define name="view">

        <p:tabView style="margin-left: -15px; margin-right: -15px;">
            <p:tab title="#{messages['task.label.DueDateTasks']}">

                <ul class="products-list product-list-in-box">
                    <ui:repeat value="#{taskDashlet.dueTasks}" var="item" varStatus="loop2">
                        <li class="item">
                            <div class="product-img">
                                <i class="fa fa-2x #{taskConsole.getTaskIcon(item.taskDefinitionKey)}" />  
                            </div>
                            <div class="product-info">
                                <h:link outcome="/bpm/taskConsole.xhtml" styleClass="product-title">
                                    <f:param name="task" value="#{item.id}" />
                                    #{item.name}  <span class="label label-primary pull-right"><t:cellOutputDateTime value="#{item.dueDate}" /></span>
                                </h:link>
                                <span class="product-description">
                                    #{item.description}
                                </span>
                                <span class="product-description text-sm">
                                    #{messages['taskName.'.concat(item.taskDefinitionKey)]} | <t:cellOutputDateTime value="#{item.createTime}"/> | <i class="fa fa-user" > </i>#{userLookup.getUserName( item.assignee)} 
                                </span>
                            </div>
                        </li>
                    </ui:repeat>
                </ul>

            </p:tab> 

            <p:tab title="#{messages['task.label.Tasks']}">

                <ul class="products-list product-list-in-box">
                    <ui:repeat value="#{taskDashlet.tasks}" var="item" varStatus="loop2">
                        <li class="item">
                            <div class="product-img">
                                <i class="fa fa-2x #{taskConsole.getTaskIcon(item.taskDefinitionKey)}" /> 
                            </div>
                            <div class="product-info">
                                <h:link outcome="/bpm/taskConsole.xhtml" styleClass="product-title">
                                    <f:param name="task" value="#{item.id}" />
                                    #{item.name}  <span class="label label-primary pull-right"><t:cellOutputDateTime value="#{item.dueDate}" /></span>
                                </h:link>
                                <span class="product-description">#{item.description}</span>
                                <span class="product-description text-sm">#{messages['taskName.'.concat(item.taskDefinitionKey)]} | <t:cellOutputDateTime value="#{item.createTime}"/> | <i class="fa fa-user" > </i>#{userLookup.getUserName( item.assignee)} </span>
                            </div>
                        </li>
                    </ui:repeat>
                </ul>

            </p:tab> 

        </p:tabView>

        <h:link outcome="/bpm/taskConsole.xhtml" style="margin-left: auto; margin-right: auto;">
            #{messages['task.label.SeeAllTasks']}
        </h:link>

    </ui:define>
</ui:composition>
